# 索引简介

索引（在MySQL中也叫做“键（key）”）是存储引擎用于快速找到记录的一种数据结构，索引优化应该是对查询性能优化最有效的手段了。索引能够轻易将
查询性能提高几个数量级。

## 索引基础

如果在`where`语句的列上建有索引，那么**MySQL**将使用索引进行查找。索引可以包含一个或多个列的值。如果索引包含多个列，那么列的
顺序也十分重要，因为**MySQL**只能高效地使用索引的最左前缀列。创建一个包含两个列的索引，和创建两个只包含一列的索引是大不相同的。

### 索引类型

索引有很多种类型，可以为不同的场景提供更好的性能。在**MySQL**中，索引是在存储引擎层而不是服务器层实现的。

#### B-Tree索引

当人们谈论索引的时候，如果没有特别指明类型，那多半说的是**B-Tree**索引，它使用**B-Tree**数据结构来存储数据。存储引擎以不同的方式使用**B-Tree**索引，性能也各有不同，各有优劣。例如，**MyISAM**使用前缀压缩技术使得索引更小，但**InnoDB**则按照原数据格式进行存储。再如**MyISAM**索引通过数据的物理位置引用被索引的行，而**InnoDB**则根据主键引用被索引的行。**B-Tree**通常意味着所有的值都是按顺序存储的，并且每一个叶子页到根的距离相同。
![B-Tree structure](/src/img/article-img/Handbook/reading%20notes/btree_index_structure.jpg)

存储引擎根据指针,从索引的根节点开始向下层搜索，通过比较节点页的值和要查找的值可以找到合适的指针进入下层子节点，这些指针实际上定义了子节点页中值的上限和下限。最终存储引擎要么是找到对应的值，要么该记录不存在。